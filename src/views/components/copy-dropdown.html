<div class="c-copy-dropdown btn-group {{#if dropup}}dropup{{/if}}">
	<span data-toggle="dropdown">
		<img width="20" height="20" src="{{@shared.assetsHost}}/img/icons/copy-btn-black.svg" loading="lazy"/>
	</span>

	<ul class="dropdown-menu dropdown-menu-right">
		<li>
			<a as-clipboard="undefined, dropup ? 'bottom' : 'top', '.c-copy-dropdown'" data-clipboard-text="{{url}}">Copy URL</a>
		</li>
		{{#if hash}}
			<li>
				<a as-clipboard="undefined, dropup ? 'bottom' : 'top', '.c-copy-dropdown'" data-clipboard-text="{{buildIntegrity(hash)}}">Copy SRI</a>
			</li>
		{{/if}}

		{{#if canBuildHtml(url)}}
			<li>
				<a as-clipboard="undefined, dropup ? 'bottom' : 'top', '.c-copy-dropdown'" data-clipboard-text="{{buildHtml(url)}}">Copy HTML</a>
			</li>
			{{#if hash}}
				<li>
					<a as-clipboard="undefined, dropup ? 'bottom' : 'top', '.c-copy-dropdown'" data-clipboard-text="{{buildHtml(url, hash)}}">Copy HTML + SRI</a>
				</li>
			{{/if}}
		{{/if}}
	</ul>
</div>

<script>
	const clipboard = require('../../public/js/decorators/clipboard');
	const { buildIntegrity, buildHtml, canBuildHtml } = require('../../public/js/utils/build-links');

	component.exports = {
		decorators: {
			clipboard,
		},
		data () {
			return {
				buildIntegrity,
				buildHtml,
				canBuildHtml,
			};
		},
	};
</script>
